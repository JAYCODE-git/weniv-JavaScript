<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jsValidation</title>
  <style>
    label {
      display: block;
    }

    input {
      border: 2px solid #ddd;
      padding: 0.5rem 1rem;
      display: block;
      margin: 10px;
    }

    input:focus {
      outline: none;
    }

    input:invalid {
      border: 2px solid #f00;
    }

    input:valid {
      border: 2px solid dodgerblue;
    }
  </style>
</head>
<!-- 
  ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë²¨ë¦¬ë°ì´ì…˜í•˜ëŠ” í¼ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.
  inputì€ ë¹„ë°€ë²ˆí˜¸, ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ë‘ ê°€ì§€ê°€ ìˆì–´ì•¼í•˜ë©°

  ì´ë•Œ ë§Œì•½ 
  inputì— ì•„ë¬´ê²ƒë„ ì…ë ¥í•˜ì§€ ì•Šì•˜ê±°ë‚˜
  ë¹„ë°€ë²ˆí˜¸ inputê³¼ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ inputì˜ ê°’ì´ ë™ì¼í•˜ì§€ ì•Šê±°ë‚˜,
  ë¹„ë°€ë²ˆí˜¸ì˜ íŒ¨í„´ì´ ì •ê·œí‘œí˜„ì‹ê³¼ ì¼ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°
  íŒ¨í„´ : (?=.*[!@#$%^&*()_+=-])(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}

  ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ë„ë¡ ë§Œë“¤ì–´ë³´ì„¸ìš”

 -->

<body>

  <form action="">

    <fieldset class="mail">
      <label for="email">email</label>
      <input id="email" type="email" pattern="[a-zA-Z0-9]*@[a-z]*.[a-z]*">
    </fieldset>

    <fieldset class="ps">
      <label for="pw">ë¹„ë°€ë²ˆí˜¸</label>
      <input id="pw" type="text" pattern="[0-9]{3,}" required>
      <!-- <input id="pw" type="password" required pattern="(?=.*[!@#$%^&*()_+=-])(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}"> -->
      <label for="pwConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
      <input id="pwConfirm" type="password" required>
    </fieldset>
    <button type=" submit">ì œì¶œ</button>
  </form>
  <script>

    const btn = document.querySelector('button');
    const inputs = document.querySelectorAll('input');
    const impMail = document.querySelector('.mail input');
    const inpPw = document.querySelector('#password');

    inputs.forEach((inp) => {
      inp.addEventListener('input', (e) => {
        validate(e.target);
      })
    })

    btn.addEventListener('click', (e) => {
      inputs.forEach((inp) => {
        validate(inp);
      })
    });

    const validate = (target) => {
      if (target.validity.valueMissing) {
        target.setCustomValidity('ê°’ì´ ì—†ìŠµë‹ˆë‹¤. ğŸ™…ğŸ»â€â™€ï¸');
      } else if (target.validity.typeMismatch) {
        target.setCustomValidity('ì–‘ì‹ì— ë§ì¶° ì‘ì„±í•´ì£¼ì„¸ìš”. ğŸ¥µ');
      } else if (target.id === "pw") {
        validatePs(target);
      } else {
        target.setCustomValidity('');
      }
    }

    function validatePs(target) {
      if (target.validity.valueMissing) {
        target.setCustomValidity("ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
      } else if (target.id === "pwConfirm") {
        if (target.value !== inpPw.value) {
          target.setCustomValidity("ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        } else {
          target.setCustomValidity("");
        }
      } else if (target.validity.patternMissmatch) {
        target.setCustomValidity("ëŒ€ë¬¸ìì™€ íŠ¹ìˆ˜ê¸°í˜¸ë¥¼ í•˜ë‚˜ ì´ìƒ í¬í•¨í•˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ 8ì ì´ìƒ ì‘ì„±í•´ì£¼ì„¸ìš”.");
      } else {
        target.setCustomValidity("");
      }
    }

    function validatePassword(target) {
      if (target.id === "pwConfirm") {
        if (target.value !== inpPw.value) {
          target.setCustomValidity("ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        } else {
          target.setCustomValidity("");
        }
      } else if (target.validity.patternMissmatch) {
        target.setCustomValidity("ëŒ€ë¬¸ìì™€ íŠ¹ìˆ˜ê¸°í˜¸ë¥¼ í•˜ë‚˜ ì´ìƒ í¬í•¨í•˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ 8ì ì´ìƒ ì‘ì„±í•´ì£¼ì„¸ìš”.");
      } else {
        target.setCustomValidity("");
      }
    }

  </script>
  <!-- <script>
    btnSubmit.addEventListener("click", () => {
      inps.forEach((inp) => {
        validate(inp);
      });
    });

    function validate(target) {
      if (target.validity.valueMissing) {
        target.setCustomValidity("ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
      } else if (target.id === "pwConfirm") {
        if (target.value !== inpPw.value) {
          target.setCustomValidity("ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        } else {
          target.setCustomValidity("");
        }
      } else if (target.validity.patternMissmatch) {
        target.setCustomValidity("ëŒ€ë¬¸ìì™€ íŠ¹ìˆ˜ê¸°í˜¸ë¥¼ í•˜ë‚˜ ì´ìƒ í¬í•¨í•˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ 8ì ì´ìƒ ì‘ì„±í•´ì£¼ì„¸ìš”.");
      } else {
        target.setCustomValidity("");
      }
    }

  </script> -->

</body>


</html>